@model BookinhMVC.Models.BenhNhan
@{
    Layout = "_AdminLayout";
    ViewBag.Active = "Patients";
    ViewBag.Title = "Sửa Bệnh nhân";
}
<h2>Sửa Bệnh nhân</h2>
<form asp-action="EditPatient" method="post" enctype="multipart/form-data">
    <input type="hidden" name="id" value="@Model.MaBenhNhan" />
    <input type="hidden" name="maNguoiDung" value="@Model.MaBenhNhan" />
    <div class="mb-2">
        <label>Họ tên</label>
        <input name="hoTen" class="form-control" value="@Model.HoTen" required />
    </div>
    <div class="mb-2">
        <label>Ngày sinh</label>
        <input name="ngaySinh" type="date" class="form-control" value="@Model.NgaySinh.ToString("yyyy-MM-dd")" required />
    </div>
    <div class="mb-2">
        <label>Giới tính</label>
        @{
            var selectedNam = Model.GioiTinh == "Nam" ? "selected" : "";
            var selectedNu = Model.GioiTinh == "Nữ" ? "selected" : "";
        }
<select name="gioiTinh" class="form-control" required>
    <option value="Nam" @@(Model.GioiTinh == "Nam" ? "selected" : "")>Nam</option>
    <option value="Nữ" @@(Model.GioiTinh == "Nữ" ? "selected" : "")>Nữ</option>
</select>
    </div>
    <div class="mb-2">
        <label>Số điện thoại</label>
        <input name="soDienThoai" class="form-control" value="@Model.SoDienThoai" />
    </div>
    <div class="mb-2">
        <label>Email</label>
        <input name="email" class="form-control" value="@Model.Email" />
    </div>
    <div class="mb-2">
        <label>Địa chỉ</label>
        <input name="diaChi" class="form-control" value="@Model.DiaChi" />
    </div>
    <div class="mb-2">
        <label>Số bảo hiểm</label>
        <input name="soBaoHiem" class="form-control" value="@Model.SoBaoHiem" />
    </div>
    <div class="mb-2">
        <label>Hình ảnh hiện tại</label><br />
        @if (!string.IsNullOrEmpty(Model.HinhAnhBenhNhan))
        {
            <img src="/uploads/@Model.HinhAnhBenhNhan" style="max-width:120px;max-height:120px" />
        }
        else
        {
            <span>Chưa có hình</span>
        }
    </div>
    <div class="mb-2">
        <label>Đổi hình ảnh</label>
        <input type="file" name="file" class="form-control" accept="image/*" />
        <input type="hidden" name="hinhAnhBenhNhan" value="@Model.HinhAnhBenhNhan" />
    </div>
    <button type="submit" class="btn btn-primary">Lưu</button>
    <a href="/Admin/Patients" class="btn btn-secondary">Quay lại</a>
</form>